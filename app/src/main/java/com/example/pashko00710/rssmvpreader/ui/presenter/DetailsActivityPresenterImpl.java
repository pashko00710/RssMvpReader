package com.example.pashko00710.rssmvpreader.ui.presenter;import android.app.ProgressDialog;import android.content.Context;import android.os.AsyncTask;import android.os.Handler;import android.widget.TextView;import com.example.pashko00710.rssmvpreader.ui.view.IDetailsActivityView;import org.jsoup.Jsoup;import org.jsoup.nodes.Document;import java.io.IOException;public class DetailsActivityPresenterImpl extends AsyncTask<Void, Void, Void> implements IDetailsActivityPresenter {    IDetailsActivityView view;    ProgressDialog progressDialog;    Context context;    String urlArticle;    String finallLnkText = "";    TextView articleView;    public DetailsActivityPresenterImpl(IDetailsActivityView view) {        this.view = view;    }    public DetailsActivityPresenterImpl(Context context, String urlArticle, TextView articleView) {        this.urlArticle=urlArticle;        this.context = context;        this.articleView = articleView;        progressDialog = new ProgressDialog(context);        progressDialog.setMessage("Loading...");    }    @Override    protected Void doInBackground(Void... params) {        Document doc = null;//Здесь хранится будет разобранный html документ        try {            //Считываем заглавную страницу            doc = Jsoup.connect(urlArticle).get();        } catch (IOException e) {            //Если не получилось считать            e.printStackTrace();        }        //Если всё считалось, что вытаскиваем из считанного html документа заголовок        if (doc!=null) {            finallLnkText = doc.getElementsByTag("p").text();        } else {            finallLnkText = "Ошибка";        }        return null;    }    @Override    public void onPreExecute() {        progressDialog.show();        super.onPreExecute();    }    @Override    public void onPostExecute(Void result) {        super.onPostExecute(result);        Handler handler = new Handler();        handler.postDelayed(new Runnable() {            public void run() {                progressDialog.dismiss();            }        }, 620);        articleView.setText(finallLnkText);    }}